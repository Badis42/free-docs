<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2012 (1.2)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Fichier "mkpasswd.functions"</TITLE>
<META NAME="description" CONTENT="Fichier "mkpasswd.functions"">
<META NAME="keywords" CONTENT="00-unix-esme">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2012">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="./style.css">

<LINK REL="next" HREF="node204.html">
<LINK REL="previous" HREF="node202.html">
<LINK REL="up" HREF="node201.html">
<LINK REL="next" HREF="node204.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html3867"
  HREF="node204.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html3861"
  HREF="node201.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html3855"
  HREF="node202.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html3863"
  HREF="node3.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html3865"
  HREF="node277.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> suivant:</B> <A NAME="tex2html3868"
  HREF="node204.html">Fichier "mkpasswd.check"</A>
<B> monter:</B> <A NAME="tex2html3862"
  HREF="node201.html">Programmes obtenus</A>
<B> pr&eacute;c&eacute;dent:</B> <A NAME="tex2html3856"
  HREF="node202.html">Fichier "mkpasswd.define"</A>
 &nbsp; <B>  <A NAME="tex2html3864"
  HREF="node3.html">Table des mati&#232;res</A></B> 
 &nbsp; <B>  <A NAME="tex2html3866"
  HREF="node277.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION041144200000000000000"></A><A NAME="adv-programming-ex3-pgmfct"></A>
<BR>
Fichier "<TT>mkpasswd.functions</TT>"
</H3>

<P>
<PRE>
#!/bin/sh
#
#
#   SERVICE DES ADMINISTRATEURS:
#       Traduction des bases OpenVMS vers Unix.
#       Fonctions internes
#
#   Fichier: $BIN_DIR/mkpasswd.functions
#
#   Creation: S. Baudry
#
#   Modifications:
#
#-----------------------------------------------------------

_waiting_chars()
{
    tmp_index=`expr $1 % 8`
    case $tmp_index in
        0) $ECHO "-\b\c";;
        1) $ECH0 "\\ \b\b\c";;
        2) $ECHO "|\b\c";;
        3) $ECHO "/\b\c";;
        4) $ECHO "-\b\c";;
        5) $ECHO "\\ \b\b\c";;
        6) $ECHO "|\b\c";;
        7) $ECHO "/\b\c";;
    esac
}

#-----------------------------------------------------------

_ask ()
{
    while
        case "$2" in
            y|Y) $ECHO "$1 ([y]/n) : \c" &gt;&amp;2 ;;
            n|N) $ECHO "$1 (y/[n]) : \c" &gt;&amp;2 ;;
        esac
        read answer
        [ "$answer" = "" ] &amp;&amp; answer=$2
        answer=`echo $answer | tr '[A-Z]' '[a-z]'`
        [ "$answer" != "y" -a "$answer" != "n" ]
    do
        echo "Invalid answer, check validity." &gt;&amp;2
    done
    echo $answer
}

#-----------------------------------------------------------

_stop_exec ()
{
    echo "Arret en cours ..."
    [ -f $PASSWD_REF ] &amp;&amp; rm $PASSWD_REF
    [ -f $WHO_REF ] &amp;&amp; rm $WHO_REF
    exit 1
}
</PRE>

<P>
<BR><HR>
<ADDRESS>
<Sylvain Baudry> baudry@esme.fr
</ADDRESS>
</BODY>
</HTML>
